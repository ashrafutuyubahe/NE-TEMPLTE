{
	"info": {
		"_postman_id": "library-management-api",
		"name": "Library Management System API",
		"description": "Complete API collection for Library Management System",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Register User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"password123\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/register",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "register"]
						}
					}
				},
				{
					"name": "Login User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "login"]
						}
					}
				},
				{
					"name": "Login Admin",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"admin@library.com\",\n  \"password\": \"admin123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "login"]
						}
					}
				}
			]
		},
		{
			"name": "Books",
			"item": [
				{
					"name": "Get All Books",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{user_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/books",
							"host": ["{{base_url}}"],
							"path": ["api", "books"],
							"query": [
								{
									"key": "search",
									"value": "gatsby",
									"description": "Optional: Search by title, author, or ISBN"
								},
								{
									"key": "author",
									"value": "F. Scott Fitzgerald",
									"description": "Optional: Filter by author"
								},
								{
									"key": "category",
									"value": "Fiction",
									"description": "Optional: Filter by category"
								}
							]
						}
					}
				},
				{
					"name": "Get Book by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{user_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/books/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "books", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "book-uuid-here"
								}
							]
						}
					}
				},
				{
					"name": "Create Book (Admin)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"The Great Gatsby\",\n  \"author\": \"F. Scott Fitzgerald\",\n  \"isbn\": \"978-0-7432-7356-5\",\n  \"description\": \"A classic American novel set in the Jazz Age, following the mysterious millionaire Jay Gatsby and his obsession with Daisy Buchanan.\",\n  \"totalCopies\": 10,\n  \"category\": \"Fiction\",\n  \"publisher\": \"Scribner\",\n  \"publicationYear\": 1925\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/books",
							"host": ["{{base_url}}"],
							"path": ["api", "books"]
						}
					}
				},
				{
					"name": "Create Book - Minimal (Admin)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"To Kill a Mockingbird\",\n  \"author\": \"Harper Lee\",\n  \"isbn\": \"978-0-06-112008-4\",\n  \"totalCopies\": 5\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/books",
							"host": ["{{base_url}}"],
							"path": ["api", "books"]
						}
					}
				},
				{
					"name": "Update Book (Admin)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"The Great Gatsby (Updated)\",\n  \"totalCopies\": 15,\n  \"description\": \"Updated description\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/books/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "books", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "book-uuid-here"
								}
							]
						}
					}
				},
				{
					"name": "Delete Book (Admin)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/books/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "books", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "book-uuid-here"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "Borrow Requests",
			"item": [
				{
					"name": "Create Borrow Request",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{user_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"bookId\": \"book-uuid-here\",\n  \"borrowDurationDays\": 7\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/borrow",
							"host": ["{{base_url}}"],
							"path": ["api", "borrow"]
						}
					}
				},
				{
					"name": "Create Borrow Request - Default Duration",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{user_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"bookId\": \"book-uuid-here\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/borrow",
							"host": ["{{base_url}}"],
							"path": ["api", "borrow"]
						}
					}
				},
				{
					"name": "Get My Borrow Requests",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{user_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/borrow/my-requests",
							"host": ["{{base_url}}"],
							"path": ["api", "borrow", "my-requests"]
						}
					}
				},
				{
					"name": "Get My Borrow History",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{user_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/borrow/my-history",
							"host": ["{{base_url}}"],
							"path": ["api", "borrow", "my-history"]
						}
					}
				},
				{
					"name": "Get All Borrow Requests (Admin)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/borrow",
							"host": ["{{base_url}}"],
							"path": ["api", "borrow"],
							"query": [
								{
									"key": "status",
									"value": "pending",
									"description": "Optional: Filter by status (pending, approved, rejected, returned)"
								}
							]
						}
					}
				},
				{
					"name": "Approve Borrow Request (Admin)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"approved\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/borrow/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "borrow", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "borrow-request-uuid-here"
								}
							]
						}
					}
				},
				{
					"name": "Reject Borrow Request (Admin)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"rejected\",\n  \"rejectionReason\": \"Book is currently unavailable\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/borrow/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "borrow", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "borrow-request-uuid-here"
								}
							]
						}
					}
				},
				{
					"name": "Mark as Returned (Admin)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"returned\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/borrow/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "borrow", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "borrow-request-uuid-here"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "Users",
			"item": [
				{
					"name": "Get Current User Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{user_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/users/me",
							"host": ["{{base_url}}"],
							"path": ["api", "users", "me"]
						}
					}
				},
				{
					"name": "Get All Users (Admin)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/users",
							"host": ["{{base_url}}"],
							"path": ["api", "users"],
							"query": [
								{
									"key": "role",
									"value": "user",
									"description": "Optional: Filter by role (user, admin)"
								},
								{
									"key": "isActive",
									"value": "true",
									"description": "Optional: Filter by active status (true, false)"
								}
							]
						}
					}
				},
				{
					"name": "Get User by ID (Admin)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/users/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "users", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "user-uuid-here"
								}
							]
						}
					}
				},
				{
					"name": "Update User (Admin)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"firstName\": \"Jane\",\n  \"lastName\": \"Smith\",\n  \"role\": \"admin\",\n  \"isActive\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/users/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "users", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "user-uuid-here"
								}
							]
						}
					}
				},
				{
					"name": "Deactivate User (Admin)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"isActive\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/users/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "users", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "user-uuid-here"
								}
							]
						}
					}
				},
				{
					"name": "Delete User (Admin)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/users/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "users", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "user-uuid-here"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "Health Check",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/health",
					"host": ["{{base_url}}"],
					"path": ["health"]
				}
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:3000",
			"type": "string"
		},
		{
			"key": "user_token",
			"value": "",
			"type": "string",
			"description": "JWT token from user login - copy from login response"
		},
		{
			"key": "admin_token",
			"value": "",
			"type": "string",
			"description": "JWT token from admin login - copy from login response"
		}
	]
}

